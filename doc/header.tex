\documentclass[oneside,10pt]{book}

%% font setup for screen reading
\renewcommand{\familydefault}{\sfdefault}\normalfont
%% mobile phone optimized
\usepackage[paperwidth=118.8mm,paperheight=68.2mm,margin=2mm]{geometry}
%% fix first blank page
\usepackage{atbegshi}% http://ctan.org/pkg/atbegshi
\AtBeginDocument{\AtBeginShipoutNext{\AtBeginShipoutDiscard}}

%% hyperlinks pdf style
\usepackage[unicode,colorlinks=true]{hyperref}

% typical macros
\newcommand{\email}[1]{$<$\href{mailto:#1}{#1}$>$}
\newcommand{\note}[1]{\footnote{\ #1}}

% misc
%% [nosep] option in lists/enums
\usepackage{enumitem}
%% frames
\usepackage{framed}

% relative sectioning
\usepackage{ifthen}
\newcounter{secdepth}\setcounter{secdepth}{0}
\newcommand{\secup}{\addtocounter{secdepth}{1}}
\newcommand{\secdown}{\addtocounter{secdepth}{-1}}
\newcommand{\secrel}[1]{
\ifthenelse{\equal{\value{secdepth}}{0}}{\part{#1}}{}
\ifthenelse{\equal{\value{secdepth}}{-1}}{\chapter{#1}}{}
\ifthenelse{\equal{\value{secdepth}}{-2}}{\section{#1}}{}
\ifthenelse{\equal{\value{secdepth}}{-3}}{\subsection{#1}}{}
\ifthenelse{\equal{\value{secdepth}}{-4}}{\subsubsection{#1}}{}
}
\newcommand{\secly}[1]{
\section*{#1}
\addcontentsline{toc}{section}{#1}
}
\newcommand{\subsecly}[1]{
\subsection*{#1}
\addcontentsline{toc}{subsection}{#1}
}

\usepackage{listings}
\lstset{
basicstyle=\small,
frame=single,
numbers=left,numberstyle=\small,numbersep=2mm,
xleftmargin=3mm,xrightmargin=2mm,
tabsize=4,
keywordstyle=\color{red},
commentstyle=\color{blue},
extendedchars=\true,
% fix russian comments: https://dxdy.ru/post509540.html
keepspaces = true,
%breaklines=false,breakatwhitespace=true
}

\newcommand{\lst}[2]{\lstinputlisting[#2]{#1}}

\newcommand{\emc}{emC}
\newcommand{\cpp}{C++}
